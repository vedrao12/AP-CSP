import random


def deal_card(deck):
    """
    Takes a deck of cards (list of strings) and returns a random card from it,
    and removes that card from the deck.
    """
    card = random.choice(deck)
    deck.remove(card)
    return card


def calculate_score(hand):
    score = 0
    num_aces = 0
    for card in hand:
        if card == 'A':
            num_aces += 1
            score += 11
        elif card in ['K', 'Q', 'J']:
            score += 10
        else:
            score += int(card)
    while num_aces > 0 and score > 21:
        score -= 10
        num_aces -= 1
    return score


def play_blackjack():

    deck = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'K', 'Q', 'J'] * 4
    random.shuffle(deck)


    player_hand = [deal_card(deck), deal_card(deck)]
    dealer_hand = [deal_card(deck), deal_card(deck)]


    print("Player's hand:", player_hand)
    print("Dealer's hand:", [dealer_hand[0], 'X'])


    while True:
        choice = input("Do you want to hit or stand? ")
        if choice.lower() == 'hit':
            player_hand.append(deal_card(deck))
            print("Player's hand:", player_hand)
            if calculate_score(player_hand) > 21:
                print("You bust! Dealer wins.")
                return
        elif choice.lower() == 'stand':
            break
        else:
            print("Invalid choice. Please enter 'hit' or 'stand'.")


    while calculate_score(dealer_hand) < 17:
        dealer_hand.append(deal_card(deck))
    print("Dealer's hand:", dealer_hand)


    player_score = calculate_score(player_hand)
    dealer_score = calculate_score(dealer_hand)
    if player_score > 21:
        print("You bust! Dealer wins.")
    elif dealer_score > 21:
        print("Dealer busts! You win.")
    elif player_score > dealer_score:
        print("You win!")
    elif player_score < dealer_score:
        print("Dealer wins.")
    else:
        print("It's a tie!")

play_blackjack()
play_blackjack()
